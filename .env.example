# ============================================
# Mini-NVR Configuration
# Copy this file to .env and update values
# ============================================

# DVR Connection
DVR_IP=192.168.1.100
DVR_USER=admin
DVR_PASS=changeme
DVR_PORT=554

# RTSP URL Template
# Placeholders: {user}, {pass}, {ip}, {port}, {channel}
# Hikvision: rtsp://{user}:{pass}@{ip}:{port}/Streaming/Channels/{channel}01
# Dahua:     rtsp://{user}:{pass}@{ip}:{port}/cam/realmonitor?channel={channel}&subtype=0
RTSP_URL_TEMPLATE=rtsp://{user}:{pass}@{ip}:{port}/Streaming/Channels/{channel}01

# Recording Settings
NUM_CHANNELS=8
RECORD_DIR=/recordings
SEGMENT_DURATION=600

# Storage Management
# When exceeded, cleanup will delete 50% of oldest files
MAX_STORAGE_GB=500
CLEANUP_INTERVAL=300

# Web Server Port
WEB_PORT=2126

# Video Compression Settings
# VIDEO_CODEC: "copy" for no re-encoding (fast), or "libx264" for H.264 encoding
# VIDEO_CRF: Quality (0-51, lower = better quality, 23 is default)
# VIDEO_PRESET: Encoding speed (ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow)
VIDEO_CODEC=copy
VIDEO_CRF=23
VIDEO_PRESET=veryfast

# Logging
# Set LOG_FILE to enable file logging (in addition to stdout)
# Leave empty or remove to log only to stdout
LOG_FILE=/logs/app.log

# ============================================
# Security Configuration
# ============================================

# SECRET_KEY is required for session security
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secure-random-key-here

# User Authentication
# Add users as user1/pass1, user2/pass2, etc.
# For production, use bcrypt hashed passwords:
#   python -c "import bcrypt; print(bcrypt.hashpw(b'yourpassword', bcrypt.gensalt()).decode())"
user1=admin
pass1=changeme

